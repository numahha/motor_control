# 比例フィードバック制御2（CとPython・負荷有り・重力によるトルクを無視できる系）

## TODO: 
* readmeをちゃんと書く。
* コード整理（関係ない変数や記述をまだちゃんと消していない）。
* tipsの意味。

## 概要
* CプログラムのPythonプログラムを同時に走らせながら制御を行う。2つのプログラム間で、角度・角速度・指令電圧の情報を共有メモリでやりとりする。
* CプログラムはI/Oボードまわりを担当する。エンコーダカウンタボードから得られた角度・角速度情報を共有メモリに書き込む。共有メモリから指令電圧情報を読み出し、DAボードに書き込む。
* Pythonプログラムはフィードバック制御量の計算を担当する。共有メモリから角度・角速度情報を読み出し、計算されたフィードバック制御の指令電圧を共有メモリに書き込む。

## 使い方
1つめのターミナルで、`test_c.c`をコンパイル&実行する。
```
make
./test_c
```

2つめのターミナルで、`test_py.py`を実行する（1つ目のターミナルの実行中でなければ失敗する）。
```
python3 test_p.py
```

## Tips
pythonでの時間管理の使い方と、共有メモリの使い方について、要素として独立した形で示しておく。
